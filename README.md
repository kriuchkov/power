# PoW protocol by TCP

## Algorithm overview

The algorithm has been implemented in such a way that the server transmits a hash with a nonce. It is necessary for the client to find the nonce based on the following parameters: `a dynamic byte index`, `a byte value` and the server hash.

The objective is to ensure that the client cannot easily forge the result in order to obtain the message from the server.

## Steps for Implementation

### Server-side logic

The server generates `a random nonce`, creates a hash using a predefined method, and transmits `the hash`, `the byte index` and `the byte value` to the client. The server then awaits the client's computation and return of a correct hash based on the verify message.

### Important Concepts

- **Nonce**: A random value generated by the server.
- **Hash**: Typically created using a secure hash algorithm (e.g., SHA-256).
- **Byte index**: A dynamic index based on its IP address that the client must find in order to compute the correct hash.
- **Byte value**: A byte value that the client must find in order to compute the correct hash.

### Client-side logic

The client receives `the verify message` from the server and then computes the correct hash by appending or manipulating the nonce, index, and value in some way (based on the protocol). This is then sent back to the server.

The client must then find a hash that satisfies the server's requirements:

- Certain number of leading zeros.
- Contain specific bytes patterns.

## Detailed Steps

<div align="center">
	<img src="https://www.planttext.com/api/plantuml/png/XPDDRy8m38Rl-HN-0N3Onmc9QHE7ZSCa1DDspbgtzPR6A75X_Fkv950GQAlweRIn_RwFtSSeDaZNEYCa3k5jjXX_seWbB09p1Nf-SFY69rTp86bQOsmX763c2BtanGh31eCnqoci1DTmCycle4QFmGf6yEmB1EjBq8er2ZGsDZ2T6fEtZXzoq0IUSnG4tSzjYXq1-H9_HliS6-iwl1BvqYTDfROg5zO1Iwp8gw7IYZs9I0PwePhkghZ1p-qaRuU2stNNsv461mVvuqdM9HP86pnDTqN_PTnSad5f0dUrwcVHzsGTH7QT4FjeFFTag6waRyyXyfLBgdOdJh9KyBXDTYwhpLXp-mwXqwTBVg8LYXMfnO9zINt90SJT4KHKR8d2GHW8ftL2VCxbq9yzxRQNIdZ47hLDEcn3cVlZ_EX5Up5dbQvFpHB7UmSXiJ-a_zmby7_EpKnXsP27HYUz9cypa063TGBlrb6PU88Ub_EaJ2iABSIkA316WouYpFtclxWbVc4XAZwkjSbe59GnZthNd_CN">
</div>

### Diagram Explanation

- **Step 1** shows the server generating a nonce and hashing it before sending it to the client.
- **Step 2** represents the client receiving the verify message and attempting to find a valid hash.
- **Step 3** shows the client sending the computed nonce back to the server.
- **Step 4** depicts the server verifying the nonce and determining if the hash is valid or not.

## Check using Docker

```bash
  make docker-run
```
